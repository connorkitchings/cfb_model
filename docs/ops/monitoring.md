# Operations: Monitoring Dashboard

**Status**: V2-aligned as of 2025-12-09
**Tool**: Streamlit

This document describes how to use the V2 Monitoring Dashboard to track the performance of the champion model.

---

## Overview

The Monitoring Dashboard is a Streamlit application that provides a visual interface for analyzing the performance of the deployed betting model. It allows for quick assessment of key metrics like ROI, Hit Rate, and profitability trends over time.

The dashboard is designed to be run manually by the user to support decision-making, particularly the decision to continue with a model or consider a rollback.

---

## How to Run the Dashboard

### Prerequisites

- Ensure you have installed the project's `dev` dependencies:
  ```bash
  uv sync --extra dev
  ```
- Scored weekly bet files must be present in `data/production/scored/<YEAR>/`. These are generated by the `scripts/scoring/score_weekly_bets.py` script.

### Launch Command

To run the dashboard, execute the following command from the root of the repository:

```bash
streamlit run dashboard/monitoring.py
```

A new tab should open in your web browser with the dashboard application.

---

## Dashboard Features

The dashboard is organized into several sections:

### 1. Configuration Sidebar

- **Select Year**: A dropdown menu allows you to choose which year's data to analyze (e.g., 2025 for live performance, 2024 for holdout set performance).

### 2. Year-to-Date (YTD) Performance

Four key metrics summarizing the model's overall performance for the selected year:

- **Total Bets**: The total number of bets placed.
- **Hit Rate**: The percentage of bets that were correct (won). The breakeven rate at standard -110 odds is 52.4%.
- **Total Profit**: The net profit in "units" (assuming 1 unit staked per bet).
- **ROI**: Return on Investment. The total profit divided by the total number of bets.

### 3. Performance by Bet Type

This section splits the overall metrics into two categories:

- **Spreads**: Performance on Against-The-Spread (ATS) bets.
- **Totals**: Performance on Over/Under bets.

This allows for quick identification of which model component is driving performance.

### 4. Weekly Performance

A line chart displaying the **Cumulative Profit (in units)** over the weeks of the season. This chart is crucial for identifying trends:
- An upward trend indicates consistent profitability.
- A downward trend or prolonged flat period may indicate model degradation.

### 5. ROI by Edge Bucket

A bar chart that shows the **Return on Investment (ROI)** for different "edge" buckets. The edge is the difference between the model's prediction and the market line.

This chart is useful for:
- **Validating Thresholds**: If the betting threshold is set at 1.5 points, you should ideally see positive ROI in buckets above 1.5.
- **Identifying Weak Spots**: If certain buckets are consistently negative, it might indicate a calibration issue or a weakness in the model's predictions for that range of games.

---

## Using the Dashboard for Decision-Making

The primary purpose of the dashboard is to support the decision of whether to continue trusting the champion model.

**Green Flags (Continue with model):**
- ROI is positive and stable.
- Hit Rate is comfortably above 52.4%.
- Cumulative Profit trend is consistently upward.

**Red Flags (Consider a Rollback):**
- Rolling ROI (viewed over several weeks) turns sharply negative.
- Cumulative Profit chart shows a sustained downturn for 2 or more weeks.
- The model shows significant degradation from its backtested performance on the holdout set (e.g., 2024 data).

Refer to the [Rollback SOP](./rollback_sop.md) for the formal procedure if a rollback is being considered.

---

## Related Documentation

- [Weekly Pipeline](./weekly_pipeline.md) — The manual process that generates the data used by this dashboard.
- [Rollback SOP](./rollback_sop.md) — The procedure to follow if model performance degrades severely.
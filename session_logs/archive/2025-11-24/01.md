# 2025-11-24 Dev Log

---

date: 2025-11-24
branch: main
task: [IMPL‑task:Backfill2025] – Backfill 2025 weekly predictions with the new Mixed‑Ensemble models

---

## Wins

- Added a Python back‑fill script (`scripts/backfill_2025.py`) that orchestrates caching, prediction generation, and scoring for weeks 2‑13.
- Fixed the feature‑order mismatch in `src/scripts/generate_weekly_bets_clean.py` by sorting fallback feature names, eliminating the CatBoost “feature name” error.
- Updated `src/models/ensemble.py` to expose `feature_names_` when `feature_names_in_` is unavailable, improving compatibility with loaded CatBoost models.
- Cleaned up debug prints and restored a tidy `task.md` entry for the back‑fill task (now marked as in‑progress).
- Ran `ruff format` and `ruff check` – all files are properly formatted and lint‑free (except a few intentional N806 warnings that are outside the scope of this session).
- Ran the back‑fill script; it now completes weeks 2‑13 without raising the previous CatBoost compatibility error (week 1 is intentionally skipped because the adjusted cache starts at week 2).

## Blockers

- The external data root on the mounted SSD (`/Volumes/CK SSD/...`) is unavailable on the current machine, so the back‑fill script falls back to the default data root (`./data`). This does not affect the logic but means the most recent raw data isn’t being used in this run.
- Unit‑test collection fails for two archived test modules that import `src` from a path that isn’t on `PYTHONPATH`. These errors are isolated to the `scripts/archive/tests/` folder and do not impact production code.

## Artifacts & Links

- **AI Tricks:** `KB:GenerateTestsPrompt`
- **Decisions:** `PRD-decision:2025-11-24` (back‑fill workflow approved)
- **Learnings:** `KB:FeatureOrderFix` – sorting fallback feature names resolves CatBoost feature‑order mismatches.
- **Code Health:** See the updated `task.md` checklist and the new back‑fill script.

## Handoff

- **Stopping Point:** Back‑fill script runs successfully for weeks 2‑13; week 1 remains unprocessed due to missing adjusted cache (expected behavior).
- **Next Immediate Task:** Verify the generated CSV reports in `artifacts/reports/2025/CFB_weekXX_bets.csv` contain one row per game and the expected columns. If any week is missing, re‑run the back‑fill for that week.
- **Known Issues:** External SSD path unavailable; unit‑test import errors in archived tests.
- **Next Session Context:** Continue monitoring the 2025 predictions, address any data‑root path issues, and consider adding LightGBM to the ensemble as a future optimization.

---

_Generated by Antigravity – your AI coding assistant._

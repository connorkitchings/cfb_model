# Dev Log: Totals Threshold Optimization

**Date**: 2025-12-08
**Session**: 03

## 1. Summarize Session Accomplishments

- **Task Completed**: Analyze and Tune Totals Bet Threshold.
- **Key Outcomes**:
  - **Analysis Script**: Updated `scripts/analysis/check_edge_distribution.py` to calculate ROI and Hit Rate at granular thresholds for both Spreads and Totals.
  - **Data Insights**:
    - **Totals**: Confirmed exceptional performance on 2024 holdout. ROI peaks at **+6.81%** with a **1.5 point threshold** (597 bets). Even the highly permissive 0.5 threshold yields +6.12% ROI.
    - **Spreads**: Performance is more volatile. The current model is breakeven (+0.78% ROI) at 0.0 threshold but negative at the default 7.0 threshold. High confidence (8.0+) shows promise (+2.03% ROI).
  - **Decision Made**: Officially increased the default Totals threshold from 0.5 to **1.5 points** to optimize the trade-off between volume and ROI. Documented in `docs/decisions/decision_log.md`.

## 2. Identify Blockers and Learnings

- **Learnings**:
  - The `matchup_v1` model is remarkably robust on totals, maintaining >4% ROI even at high thresholds.
  - The spread model requires either a very low threshold (volume play) or a very high threshold (quality play) to be profitable; the middle ground (2.5 - 7.0) is negative EV.

## 3. Define Next Steps

- **CFP Deployment**: The model is now fully tuned and ready for the College Football Playoff predictions.
- **Spread Refinement**: Future sessions should investigate why the spread model underperforms in the 2.5-7.0 edge range (calibration issue?).

## 4. Final Health Check

- **Docs**: Decision log updated.
- **Scripts**: Analysis script validated and preserved.

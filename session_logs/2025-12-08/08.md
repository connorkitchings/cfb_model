# Dev Log: Opponent-Strength Augmentation Attempt

**Date**: 2025-12-08  
**Session**: 08  
**Branch**: main  
**Task**: Add opponent-strength context to v2 recency pipeline and reassess promotion

## 1) Summarize Session Accomplishments

- Added opponent mapping from games into `v2_recency` and injected opponent-strength averages (def EPA/SR/pass_ypp/rush_ypp) into adjustment, then re-ran `matchup_v2` Ridge.
- 2024 holdout improved to ROI +3.73% (n=738, HR 54.3%), but cross-year instability remains (historical 2021/2023 losses persist), so promotion gates are still unmet.
- Confirmed champion stays `matchup_v1`; opponent-strength augmentation remains research-only.

## 2) Blockers and Learnings

- **Blockers**: None blocking; matmul warnings remain in training logs but inference is mitigated via feature clipping.
- **Learnings**: Opponent-strength context lifts 2024 ROI but does not fix multi-year stability; we need new signal (e.g., weather bins, situational recency) if we want a promotable feature set.

## 3) Next Steps

- Keep `matchup_v1` in production; stop promotion attempts for `matchup_v2` variants until new features are added.
- Optional future: explore weather-bin and situational-recency feature tracks as new experiments.

## 4) Health Checks

- `uv run ruff check .`: ✅
- `uv run pytest -q`: ✅ 33 passed
- `uv run mkdocs build --quiet`: ✅
- (Formatting already enforced earlier in the day.)

## Files Touched (non-exhaustive)

- `src/features/v2_recency.py` (opponent mapping, opponent-strength injection)
- `session_logs/2025-12-08/08.md` (this log)

# Dev Session Log — 2025-12-06

**Session ID:** 02
**Date:** 2025-12-06
**Duration:** ~2 hours
**Focus Area:** V2 Baseline Establishment

---

## 1. Session Summary

-   **Task Completed**: V2 Baseline Established (Ridge Regression + Minimal Unadjusted Features)
-   **Key Outcomes**:
    1.  **Pipeline Fixed**: Resolved critical regression in `src/features/v1_pipeline.py` (missing betting lines, standardized game IDs).
    2.  **Data Generated**: Processed data for **2019, 2021, 2022, 2023, 2024** is now available in `processed/team_season/` and `processed/team_week_adj/`.
    3.  **Baseline Metrics Set**: Trained Ridge model on unadjusted EPA/SR features.
        -   **RMSE**: 18.64
        -   **Hit Rate**: 50.6%
        -   **ROI**: -3.35%
        -   This is now the **official V2 benchmark** (see `docs/decisions/decision_log.md`).

## 2. Blockers and Learnings

-   **Blockers Encountered**:
    -   `mkdocs-autorefs` version mismatch caused build failures; resolved by updating dev dependencies (`mkdocs-material`, `mkdocstrings[python]`).
    -   Initial baseline lacked ROI metrics because `betting_lines` were not being merged in the pipeline.
-   **New Learnings**:
    -   Unadjusted EPA/SR features perform slightly worse than a coin flip (-3.35% ROI), confirming that **Phase 2 (Opponent Adjustment)** is critical for profitability.
    -   The `team_week_adj` pipeline needs to be robust against missing betting lines for older seasons (though handled for recent years).

## 3. Next Steps

-   **Phase 2 (Feature Engineering)**:
    -   Implement `conf/features/opponent_adjusted_v1.yaml`.
    -   Run **Experiment 02** (Ridge + Opponent Adjustment) to verify if it beats the -3.35% ROI baseline.
    -   Execute 5-gate promotion tests (Target: > -2.35% ROI).

## 4. Final Health Check

-   `uv run ruff check .`: ✅ Passed
-   `uv run ruff format .`: ✅ Passed
-   `uv run pytest`: ✅ Passed (33 tests)
-   `uv run mkdocs build --quiet`: ✅ Passed

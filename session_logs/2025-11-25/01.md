# Dev Log: 2025-11-25

## Session Goal

Implement and evaluate "Mismatch" features, perform Error Analysis, and explore Quantile Regression to improve model performance.

## Session Handoff

- **Status**: **Completed** Error Analysis and Quantile Regression Experiment.
- **Current State**: The model is stable but limited by high uncertainty (RMSE ~16.5). Mismatch features and Quantile Regression did not yield profitable strategies.
- **Next Steps**: Focus on **Feature Engineering** with new data sources (Weather, Injuries) to reduce RMSE.

## Tasks Completed

- [x] **Mismatch Features**: Implemented and evaluated rank-based features. (No significant improvement).
- [x] **Error Analysis**: Analyzed 2024 errors. Found that "big edges" are mostly model errors.
- [x] **Quantile Regression**: Implemented `MultiQuantile` loss. Found that market lines are always within the 80% prediction interval (+/- 21 points).
- [x] **Linting Fixes**: Resolved `E402`, `N806`, `F841` errors in scripts.

## Key Findings & Decisions

1.  **Mismatch Features**: Did not add independent signal. The market likely prices these in efficiently.
2.  **Error Analysis**: The model performs worst in early season (Weeks 1-4). Large disagreements (>5 points) with the market are usually wrong.
3.  **Quantile Regression**: The model's uncertainty is too high (+/- 21 points) to find confident edges. We cannot "risk manage" our way to profit with the current signal.
4.  **Decision**: Stop tuning architecture. Pivot to **New Data Sources** (Weather, Injuries) to lower RMSE.

## Health Check

- **Linting**: All clean (`ruff check` passed).
- **Tests**: All passed (`pytest` passed).
- **Documentation**: Updated `walkthrough.md` with detailed findings.

## Blockers / Learnings

- **Learning**: "Big Edges" are dangerous. If the model differs from the market by a lot, it's usually the model that is missing something (e.g., QB injury).
- **Learning**: Quantile Regression is a great diagnostic tool. It showed us exactly _how_ uncertain the model is.

## Next Session

- **Goal**: Integrate **Weather Data** (Wind, Rain, Temperature) into the feature set.
- **Hypothesis**: Weather is a physical constraint that affects scoring (Totals) and specific matchups (Passing vs Rushing) that might not be fully priced in or modeled by simple efficiency stats.

---
date: 2025-10-21
branch: main
task: Ingest new data and score Week 8 predictions
---

## Summary

- Ingested 2025 Week 8 games/plays and Week 9 schedule plus betting lines from CFBD (via `scripts/cli.py ingest`), confirming the external data volume was mounted.
- Rebuilt processed aggregates for 2025 with `uv run python - <<'PY' ... preaggregations_flow` and refreshed weekly running/adjusted caches through Week 9 (`scripts/cache_weekly_stats.py`).
- Updated `GamesIngester` so week-specific ingests upsert the year-level CSV (normalizing datetimes/enums) which removes stale, scoreless rows; adjusted `score_weekly_picks.py` to keep the most recent game snapshot.
- Enhanced the review email (`publish_review.py` + template) with season-to-date spread/total records immediately after the “Last Week's Performance” section.
- De-duped raw game merges inside `generate_weekly_bets_clean.py` so weekly prediction reports output one row per game; regenerated the Week 9 CSV and resent the test picks email.
- Rescored Week 8 after the overwrite fix; results now land at `artifacts/reports/2025/scored/CFB_week8_bets_scored.csv` with spreads 9-6 and totals 6-5 (45 / 49 no-bet games).

## Next Steps

- Re-run `uv run python scripts/score_weekly_picks.py --year 2025 --week 8 ...` only if CFBD issues late score corrections.
- Generate Week 9 picks using the refreshed caches (`uv run python -m src.scripts.generate_weekly_bets_clean --year 2025 --week 9 ...`) and follow with scoring after games complete.
- Spot-check opponent-adjusted caches for Week 9 to ensure all teams meet the minimum games-played requirement before publishing picks.

## Final Health Check

- `uv run ruff check .`: ⭕️ not run
- `uv run ruff format .`: ⭕️ not run
- `uv run pytest`: ⭕️ not run
- `uv run mkdocs build --quiet`: ⭕️ not run

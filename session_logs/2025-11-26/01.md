---
date: 2025-11-26
branch: main
task: Feature Pipeline Fix & Model Optimization
---

## Wins

- **Fixed Feature Pipeline:** Identified and resolved a critical issue where `pace_stats` (e.g., `plays_per_game`) were missing from the `team_week_adj` cache for `adjustment_iteration=2`. Regenerated the cache for all relevant years.
- **New Champion Models:**
  - **Spread:** `spread_catboost_recency_v1` achieved a **50.1% Hit Rate** (vs 47.2% Control), proving the value of recency weighting.
  - **Totals:** `totals_pace_interaction_v1` achieved a **54.4% Hit Rate**, a massive improvement driven by explicit pace features.
- **Quantile Regression:** Successfully implemented Quantile Regression to generate prediction intervals (10th, 50th, 90th percentiles).

## Blockers

- None. The session proceeded smoothly after the initial pipeline debugging.

## Artifacts & Links

- **Walkthrough:** [walkthrough.md](file:///Users/connorkitchings/Desktop/Repositories/cfb_model/walkthrough.md) - Detailed results of all experiments.
- **Task List:** [task.md](file:///Users/connorkitchings/.gemini/antigravity/brain/542a4085-9508-4834-80bf-92c06e4ca1e8/task.md) - Completed objectives.

## Handoff

- **Stopping Point:** Completed the "Re-Evaluate Control Baseline" and "Pending Experiments" phases. We now have profitable/strong baseline models for both Spread and Totals.
- **Next Immediate Task:** Deploy the new champion models (`spread_catboost_recency_v1` and `totals_pace_interaction_v1`) to the weekly production pipeline.
- **Known Issues:** The Quantile Regression model (median prediction) has a lower hit rate (45.5%) than the RMSE-optimized model (50.1%), so it should only be used for uncertainty quantification, not betting decisions.
- **Next Session Context:** Focus on integrating the new models into the weekly generation script and potentially exploring the "Probabilistic Power Ratings" research track.
